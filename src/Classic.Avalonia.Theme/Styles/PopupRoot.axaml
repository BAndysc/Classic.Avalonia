<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:utils="clr-namespace:Classic.Avalonia.Theme.Utils"
                    xmlns:common="clr-namespace:Classic.CommonControls;assembly=Classic.CommonControls.Avalonia"
                    x:ClassModifier="internal">
  <ControlTheme x:Key="{x:Type PopupRoot}"
                TargetType="PopupRoot">
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="TransparencyLevelHint" Value="Transparent" />
    <Setter Property="Foreground" Value="{DynamicResource ThemeForegroundBrush}" />
    <Setter Property="FontSize" Value="{DynamicResource FontSizeNormal}" />
    <Setter Property="FontFamily" Value="{DynamicResource ContentControlThemeFontFamily}" />
    <Setter Property="Template">
      <ControlTemplate>
        <LayoutTransformControl LayoutTransform="{TemplateBinding Transform}">
          <Panel
            utils:FontUtils.FontAliasing="{DynamicResource {x:Static common:SystemParameters.FontAliasingKey}}"
            RenderOptions.EdgeMode="Aliased">
            <Border Name="PART_TransparencyFallback"
                    IsHitTestVisible="False" />
            <VisualLayerManager IsPopup="True">
              <ContentPresenter Name="PART_ContentPresenter"
                                Padding="{TemplateBinding Padding}"
                                Background="{TemplateBinding Background}"
                                Content="{TemplateBinding Content}"
                                ContentTemplate="{TemplateBinding ContentTemplate}" />
            </VisualLayerManager>
          </Panel>
        </LayoutTransformControl>
      </ControlTemplate>
    </Setter>
  </ControlTheme>
</ResourceDictionary>
